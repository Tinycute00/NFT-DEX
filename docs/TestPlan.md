# NFT DEX MVP 測試計劃

## 1. 測試目標與範圍
- 驗證 NFT 的鑄造功能（包括 ERC721 與 ERC1155）。
- 測試市場訂單處理：上架、取消上架、購買 NFT。
- 測試雙池機制中的流動性計算與價格公式（包括基礎價格與額外費用計算）。
- 測試 FLP 鑄造與銷毀功能，包括與 NFT 質押的關聯。
- 驗證白名單與銷售階段（保證、先搶先贏、公售、其它）的邏輯正確性。
- 模擬各種市場交易情境，確認手續費分配與價格調整的合理性。

## 2. 測試案例
### 2.1 NFT 鑄造測試
- 測試 ERC721 與 ERC1155 代幣創建，檢查稀有度、權重及圖片 URL 是否正確記錄且不可修改。

### 2.2 市場交易測試
- 測試 NFT 上架、取消上架及直接購入操作。
- 驗證使用流動性池購買與出售 NFT 的價格計算及交易流程。

### 2.3 FLP 機制測試
- 測試在 NFT 質押過程中鑄造 FLP 代幣，並檢查額外費用是否按比例進入系統溢價池。
- 測試 FLP 銷毀及其對系統餘額的影響。

### 2.4 白名單與階段控制
- 測試設置、批量設置、移除白名單信息，及各階段鑄造要求的價格與時間限制。

### 2.5 整合測試
- 模擬多用戶場景下的市場活動，包括交易、質押、FLP 鑄造及流動性添加/移除。

## 3. 測試環境
- 使用 Hardhat 模擬環境與 Sepolia 測試網絡。
- 必要環境變數透過 .env 文件配置。
- 測試腳本：執行 `npx hardhat test` 來運行所有測試用例。

## 4. 測試執行
- 使用命令行執行 `npx hardhat test`，觀察控制台輸出及測試報告。
- 根據測試結果進行修正、優化與迭代。

## 5. 未來測試方向與改進
- 引入負載測試，模擬高頻交易情境。
- 增加跨鏈、市場聚合與用戶體驗相關的整合測試。
- 持續完善測試用例，確保系統更新後功能正確性。 